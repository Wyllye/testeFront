<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Almanac - Controlador de H√°bitos</title>
    <link rel="stylesheet" href="src/style.css">
</head>
<body>
    <div id="app">
        <!-- Header -->
        <header class="header">
            <div class="container">
                <h1 class="logo">Almanac</h1>
                <nav class="nav">
                    <button class="nav-btn active" data-tab="dashboard">Dashboard</button>
                    <button class="nav-btn" data-tab="statistics">Estat√≠sticas</button>
                    <button class="nav-btn" data-tab="offensives">Ofensivas</button>
                </nav>
            </div>
        </header>

        <!-- Main Content -->
        <main class="main">
            <div class="container">
                <!-- Dashboard Tab -->
                <div id="dashboard" class="tab-content active">
                    <div class="hero">
                        <h2 class="hero-title">Seus h√°bitos de hoje</h2>
                        <div class="stats">
                            <div class="stat">
                                <span class="stat-icon">üî•</span>
                                <span class="stat-number" id="current-streak">0</span>
                                <span class="stat-label">dias seguidos</span>
                            </div>
                            <div class="stat">
                                <span class="stat-icon">üèÜ</span>
                                <span class="stat-number" id="completed-today">0</span>
                                <span class="stat-label">conclu√≠dos hoje</span>
                            </div>
                            <div class="stat">
                                <span class="stat-icon">üéØ</span>
                                <span class="stat-number" id="total-habits">0</span>
                                <span class="stat-label">h√°bitos</span>
                            </div>
                        </div>
                    </div>

                    <div class="content-area">
                        <!-- Loading -->
                        <div id="loading" class="loading hidden">
                            <div class="spinner"></div>
                            <p>Carregando seus h√°bitos...</p>
                        </div>

                        <!-- Empty State -->
                        <div id="empty-state" class="empty-state">
                            <div class="empty-icon">üå±</div>
                            <h3>Comece sua jornada de h√°bitos</h3>
                            <p>Crie seu primeiro h√°bito e comece a construir uma rotina incr√≠vel!</p>
                            <button class="btn-primary" id="create-first-habit">
                                <span class="btn-icon">‚ú®</span>
                                Criar Primeiro H√°bito
                            </button>
                        </div>

                        <!-- Habits List -->
                        <div id="habits-list" class="habits-list hidden"></div>
                    </div>
                </div>

                <!-- Statistics Tab -->
                <div id="statistics" class="tab-content">
                    <div class="content-area">
                        <h2 style="margin-bottom: 2rem; color: #1f2937; font-size: 1.75rem;">Estat√≠sticas</h2>
                        <div class="stats-grid">
                            <div class="stat-card">
                                <div class="stat-card-header">
                                    <h3>Total de H√°bitos</h3>
                                    <span class="stat-card-icon">üéØ</span>
                                </div>
                                <p class="stat-card-value" id="stats-total">0</p>
                            </div>
                            <div class="stat-card">
                                <div class="stat-card-header">
                                    <h3>Streak Atual</h3>
                                    <span class="stat-card-icon">üî•</span>
                                </div>
                                <p class="stat-card-value"><span id="stats-streak">0</span> dias</p>
                            </div>
                            <div class="stat-card">
                                <div class="stat-card-header">
                                    <h3>Conquistas</h3>
                                    <span class="stat-card-icon">üèÜ</span>
                                </div>
                                <p class="stat-card-value" id="stats-achievements">0</p>
                            </div>
                        </div>

                        <!-- Gr√°fico de Progresso Semanal -->
                        <div class="chart-section">
                            <h3 class="chart-title">Progresso Semanal</h3>
                            <div class="weekly-chart">
                                <div class="chart-container">
                                    <canvas id="weekly-progress-chart" width="400" height="200"></canvas>
                                </div>
                            </div>
                        </div>

                        <!-- Estat√≠sticas por Categoria -->
                        <div class="category-stats">
                            <h3 class="section-title">H√°bitos por Categoria</h3>
                            <div class="category-grid" id="category-stats-grid">
                                <!-- Ser√° preenchido dinamicamente -->
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Offensives Tab -->
                <div id="offensives" class="tab-content">
                    <div class="content-area">
                        <h2 style="margin-bottom: 2rem; color: #1f2937; font-size: 1.75rem;">Ofensivas</h2>
                        
                        <!-- Ofensivas Ativas -->
                        <div class="offensives-section">
                            <h3 class="section-title">Ofensivas Ativas</h3>
                            <div class="offensives-grid" id="active-offensives">
                                <!-- Ser√° preenchido dinamicamente -->
                            </div>
                        </div>

                        <!-- Criar Nova Ofensiva -->
                        <div class="create-offensive-section">
                            <h3 class="section-title">Criar Nova Ofensiva</h3>
                            <div class="offensive-form">
                                <div class="form-row">
                                    <div class="form-group">
                                        <label for="offensive-name">Nome da Ofensiva</label>
                                        <input type="text" id="offensive-name" placeholder="Ex: Desafio 30 dias de exerc√≠cio">
                                    </div>
                                    <div class="form-group">
                                        <label for="offensive-duration">Dura√ß√£o (dias)</label>
                                        <input type="number" id="offensive-duration" placeholder="30" min="1" max="365">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="offensive-description">Descri√ß√£o</label>
                                    <textarea id="offensive-description" placeholder="Descreva o objetivo da sua ofensiva..." rows="3"></textarea>
                                </div>
                                <div class="form-group">
                                    <label for="offensive-habits">Selecionar H√°bitos</label>
                                    <div class="habits-selector" id="offensive-habits-selector">
                                        <!-- Ser√° preenchido dinamicamente com os h√°bitos dispon√≠veis -->
                                    </div>
                                </div>
                                <button class="btn-primary" id="create-offensive-btn">
                                    <span class="btn-icon">‚öîÔ∏è</span>
                                    Criar Ofensiva
                                </button>
                            </div>
                        </div>

                        <!-- Hist√≥rico de Ofensivas -->
                        <div class="offensives-history">
                            <h3 class="section-title">Hist√≥rico de Ofensivas</h3>
                            <div class="history-grid" id="offensives-history">
                                <!-- Ser√° preenchido dinamicamente -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <!-- Floating Action Button -->
        <button id="fab" class="fab">+</button>

        <!-- Modal Form -->
        <div id="modal" class="modal hidden">
            <div class="modal-content">
                <div class="modal-header">
                    <h3 id="modal-title">Novo H√°bito</h3>
                    <button id="close-modal" class="close-btn">√ó</button>
                </div>
                <div class="modal-body">
                    <div class="form-group">
                        <label for="habit-name">Nome do H√°bito</label>
                        <input type="text" id="habit-name" placeholder="Ex: Beber 2L de √°gua" required>
                    </div>
                    <div class="form-group">
                        <label for="habit-description">Descri√ß√£o (opcional)</label>
                        <textarea id="habit-description" placeholder="Descri√ß√£o do seu h√°bito..." rows="3"></textarea>
                    </div>
                    <div class="form-group">
                        <label for="habit-category">Categoria</label>
                        <select id="habit-category">
                            <option value="saude">üè• Sa√∫de</option>
                            <option value="exercicio">üí™ Exerc√≠cio</option>
                            <option value="estudo">üìö Estudo</option>
                            <option value="trabalho">üíº Trabalho</option>
                            <option value="lazer">üéÆ Lazer</option>
                            <option value="outros">‚≠ê Outros</option>
                        </select>
                    </div>
                </div>
                <div class="modal-footer">
                    <button id="cancel-btn" class="btn-secondary">Cancelar</button>
                    <button id="save-btn" class="btn-primary">
                        <span id="save-btn-text">Criar</span>
                        <span class="btn-icon">‚ú®</span>
                    </button>
                </div>
            </div>
        </div>

        <!-- Overlay -->
        <div id="overlay" class="overlay hidden"></div>
    </div>

    <script type="module" src="/src/main.ts"></script>
</body>
</html>
